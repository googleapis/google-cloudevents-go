// Code generated by protoc-gen-go-snowpea. DO NOT EDIT.

package v1

import (
	"fmt"
	"google.golang.org/protobuf/encoding/protojson"
)

// UnmarshalMessagePublishedData provides a typed object.
func UnmarshalMessagePublishedData(datatype string, data []byte) (*MessagePublishedData, error) {
	out := MessagePublishedData{}

	switch datatype {
	case "application/json":
		pj := protojson.UnmarshalOptions{DiscardUnknown: true}
		if err := pj.Unmarshal(data, &out); err != nil {
			return nil, fmt.Errorf("protojson.Unmarshal: %w", err)
		}
	default:
		return nil, fmt.Errorf("data type %q not supported", datatype)
	}

	return &out, nil
}

// UnmarshalStrictMessagePublishedData provides a typed object but errors on unknown fields.
func UnmarshalStrictMessagePublishedData(data []byte) (*MessagePublishedData, error) {
	out := MessagePublishedData{}
	if err := protojson.Unmarshal(data, &out); err != nil {
		return nil, fmt.Errorf("protojson.Unmarshal: %w", err)
	}

	return &out, nil
}

// JSON provides the protobuf as a serialized JSON object.
func (m *MessagePublishedData) JSON() ([]byte, error) {
	b, err := protojson.Marshal(m)
	if err != nil {
		return nil, fmt.Errorf("protojson.Marshal: %w", err)
	}

	return b, nil
}

// UnmarshalPubsubMessage provides a typed object.
func UnmarshalPubsubMessage(datatype string, data []byte) (*PubsubMessage, error) {
	out := PubsubMessage{}

	switch datatype {
	case "application/json":
		pj := protojson.UnmarshalOptions{DiscardUnknown: true}
		if err := pj.Unmarshal(data, &out); err != nil {
			return nil, fmt.Errorf("protojson.Unmarshal: %w", err)
		}
	default:
		return nil, fmt.Errorf("data type %q not supported", datatype)
	}

	return &out, nil
}

// UnmarshalStrictPubsubMessage provides a typed object but errors on unknown fields.
func UnmarshalStrictPubsubMessage(data []byte) (*PubsubMessage, error) {
	out := PubsubMessage{}
	if err := protojson.Unmarshal(data, &out); err != nil {
		return nil, fmt.Errorf("protojson.Unmarshal: %w", err)
	}

	return &out, nil
}

// JSON provides the protobuf as a serialized JSON object.
func (m *PubsubMessage) JSON() ([]byte, error) {
	b, err := protojson.Marshal(m)
	if err != nil {
		return nil, fmt.Errorf("protojson.Marshal: %w", err)
	}

	return b, nil
}

// CloudEventTypePrefix returns the prefix of the CloudEvent Type this data type supports.
func CloudEventTypePrefix() string {
	return "google.events.cloud.pubsub.v1"
}
